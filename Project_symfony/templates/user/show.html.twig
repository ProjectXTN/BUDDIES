{% extends 'base.html.twig' %}

{% block title %}User{% endblock %}

{% block body %}
    <h1>Profile</h1>

    <table class="table">
        <tbody>
{#             <tr>
                <th>Id</th>
                <td>{{ user.id }}</td>
            </tr> #}
{#             <tr>
                <th>Email</th>
                <td>{{ user.email }}</td>
            </tr> #}
{#             <tr>
                <th>Roles</th>
                <td>{{ user.roles ? user.roles|json_encode : '' }}</td>
            </tr> #}
{#             <tr>
                <th>Password</th>
                <td>{{ user.password }}</td>
            </tr> #}
            <tr>
                <th>FirstName</th>
                <td>{{ user.firstName }}</td>
            </tr>
            <tr>
                <th>LastName</th>
                <td>{{ user.lastName }}</td>
            </tr>
            <tr>
                <th>Country</th>
                <td>{{ user.country }}</td>
            </tr>
            <tr>
                <th>City</th>
                <td>{{ user.city }}</td>
            </tr>
            <tr>
                <th>Language</th>
                <td>{{ user.language }}</td>
            </tr>
            <tr>
                <th>Picture</th>
                <td><img src="/data/{{user.Picture}}" ></img></td>
            </tr>
            <tr>
                <th>Biography</th>
                <td>{{ user.Biography }}</td>
            </tr>
            <tr>
                <th>IsExpat</th>
                <td>{{ user.isExpat ? 'Yes' : 'No' }}</td>
            </tr>
            <tr>
                <th>Mes communaut√©s</th>
                <td>
                    {# Boucle pour faire la affichage des groups #}
                {% for groupe in user.groupe %}
                    <div>{{ groupe.image }}</div>
                    <div>{{ groupe.name }}</div>
                    <div>{{ groupe.description }}</div><br>
                {% endfor %}
            </td>
            </tr>
            <tr>
                <th>Mes Avis</th>
                <td>
                    {# Boucle pour faire la affichage des avis #}
                {% for review in user.reviewReceived %}
                    <div><strong>{{ review.senderId.firstName }}</strong></div><br>
                     <div>{{review.dateAt ? review.dateAt|date('Y-m-d H:i:s') : '' }}</div> 
                    <div><img src="/data/{{ review.senderId.Picture }}"></img></div><br>
                    <div><strong>{{ review.comment }}</strong></div><br>
                {% endfor %}
                </td>
            </tr>

            <tr>
            <th>Mes Publications</th>
            <td>
                {# Boucle pour faire la affichage des Publication #}
            {% for publication in user.publication %}
                 <div>{{ user.firstName }}</div><br>
                 <div>{{ publication.dateAt ? publication.dateAt|date('Y-m-d H:i:s') : '' }}</div> 
                 <img src="/data/{{user.Picture}}" ></img><br>
                 <div>{{ publication.post}}</div><br>
                 
            {% endfor %}
            </td>
        </tr>
{#              <tr>
                <th>Created_at</th>
                <td>{{ user.createdAt ? user.createdAt|date('Y-m-d H:i:s') : '' }}</td>
            </tr>  #}
        </tbody>
    </table>

    {# Remove button back to list #}
    {# <a href="{{ path('app_user_index') }}">back to list</a> #}

    <button><a href="{{ path('app_user_edit', {'id': user.id}) }}">edit</a></button>

    {{ include('user/_delete_form.html.twig') }}
{% endblock %}
