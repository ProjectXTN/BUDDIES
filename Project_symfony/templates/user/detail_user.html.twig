{% extends 'base.html.twig' %}

{% block title %}User{% endblock %}

{% block body %}
    <h1 class="text-center">Profile</h1>
    <div class='container'>
        <div class='row'>
        <table class="table">
        <tbody>
{#             <tr>
                <th>Id</th>
                <td>{{ user.id }}</td>
            </tr> #}
{#             <tr>
                <th>Email</th>
                <td>{{ user.email }}</td>
            </tr> #}
{#             <tr>
                <th>Roles</th>
                <td>{{ user.roles ? user.roles|json_encode : '' }}</td>
            </tr> #}
{#             <tr>
                <th>Password</th>
                <td>{{ user.password }}</td>
            </tr> #}
            <tr>
                <th>FirstName</th>
                <td onclick="findForm()">{{ user.firstName }}</td>
            </tr>
            <tr>
                <th>LastName</th>
                <td>{{ user.lastName }}</td>
            </tr>
            <tr>
                <th>Country</th>
                <td>{{ user.country }}</td>
            </tr>
            <tr>
                <th>City</th>
                <td>{{ user.city }}</td>
            </tr>
            <tr>
                <th>Language</th>
                <td>{{ user.language }} {{ user.language2 }} {{ user.language3 }} </td>
            </tr>
            <tr>
                <th>Picture</th>
                <td><img src="/data/{{user.Picture}}" ></img></td>
            </tr>
            <tr>
                    <th>Biography</th>
                    <td>{{ user.Biography }}</td>

                
            </tr>
            <tr>
                <th>IsExpat</th>
                <td>{{ user.isExpat ? 'Yes' : 'No' }}</td>
            </tr>
            <tr>
                <th>Mes communautés</th>
                <td>
                    {# Boucle pour faire la affichage des groups #}
                {% for groupe in user.groupe %}
                    <div>{{ groupe.image }}</div>
                    <div>{{ groupe.name }}</div>
                    <div>{{ groupe.description }}</div><br>
                {% endfor %}
            </td>
            </tr>
            <tr>
                <th>Mes Avis</th>
                <td>
                    {# Boucle pour faire la affichage des avis #}
                {% for review in user.reviewReceived %}
                    <div><strong>{{ review.senderId.firstName }}</strong></div><br>
                     <div>{{review.dateAt ? review.dateAt|date('Y-m-d H:i:s') : '' }}</div> 
                    <div><img src="/data/{{ review.senderId.Picture }}"></img></div><br>
                    <div><strong>{{ review.comment }}</strong></div><br>
                {% endfor %}
                </td>
            </tr>

            <tr>
            <th>Mes Publications</th>
                <td>
                    {# Boucle pour faire la affichage des Publication #}
                {% for publication in user.publication %}
                    <div>{{ user.firstName }}</div><br>
                    <div>{{ publication.dateAt ? publication.dateAt|date('Y-m-d H:i:s') : '' }}</div> 
                    <img src="/data/{{user.Picture}}" ></img><br>
                    <div>{{ publication.post}}</div><br>
                    
                {% endfor %}
                </td>
            </tr>

            <tr>
            <th>Mes centres d'intérêts</th>
                <td>
                    {# Boucle pour faire la affichage les centres d'interes #}
                {% for activity in user.activitieUsers %}
                    {%  if activity.isActivitie %}        
                    <div>{{ activity.activitie.name }}</div><br>
                    {# <img>{{ activity.activitie.image }}</img><br> #}
                    {% endif %}
                {% endfor %}
                </td>
            </tr>

             <tr>
            <th>Les activités que j'aimerai faire</th>
                <td>
                    {# Boucle pour faire la affichage les centres d'interes #}
                {% for activity in user.activitieUsers %}
                   {%  if activity.isActivitie == false %}  
                    <div>{{ activity.activitie.name }}</div><br>
                    {# <img>{{ activity.activitie.image }}</img><br> #}
                    {% endif %}  
                {% endfor %}
                </td>
            </tr>
             <tr>
{#              <tr>
                <th>Created_at</th>
                <td>{{ user.createdAt ? user.createdAt|date('Y-m-d H:i:s') : '' }}</td>
            </tr>  #}
        </tbody>
    </table>

    <a href="{{path('app_add_friends', {'id':user.id})}}"><button type="button">Ajouter ami(e)</button></a>
    <a href="{{path('app_remove_friends', {'id':user.id})}}"><button type="button">Retirer ami(e)</button></a>

    {# Remove button back to list #}
    {# <a href="{{ path('app_user_index') }}">back to list</a> #}

    
{% endblock %}

